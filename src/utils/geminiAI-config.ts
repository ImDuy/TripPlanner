const {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = process.env.EXPO_PUBLIC_GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  // safetySettings: Adjust safety settings
  // See https://ai.google.dev/gemini-api/docs/safety-settings
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location: New York, NY, USA, for 3 Days and 2 Night for A Couple with a Moderate budget with a Flight details, Flight Price with Booking url, Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and Places to visit nearby with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time t travel each of the location for 3 days and 2 night with each day plan with best time to visit in JSON format.",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "flight": {\n    "details": "Round trip flight from [your departure city] to New York City (JFK or LGA)",\n    "price": "$300 - $500 (round trip, varies by season and airline)",\n    "booking_url": "https://www.google.com/flights" \n  },\n  "hotel": [\n    {\n      "name": "The Jane Hotel",\n      "address": "113 Jane St, New York, NY 10014",\n      "price": "$150 - $250 per night",\n      "image_url": "https://www.thejanenyc.com/images/hero-1.jpg",\n      "geo_coordinates": "40.7343,-74.0074",\n      "rating": 4.5,\n      "description": "A unique and affordable hotel in the West Village, known for its maritime-inspired rooms and social atmosphere.",\n      "places_nearby": [\n        {\n          "name": "Washington Square Park",\n          "details": "A historic park with a fountain, chess tables, and street performers.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/Washington_Square_Park_001.jpg/1280px-Washington_Square_Park_001.jpg",\n          "geo_coordinates": "40.7306,-73.9967",\n          "ticket_pricing": "Free",\n          "time_to_travel": "15 minutes walk"\n        },\n        {\n          "name": "Greenwich Village",\n          "details": "A vibrant neighborhood with trendy restaurants, shops, and nightlife.",\n          "image_url": "https://www.nycgo.com/images/media/cms/img/destination-guides/new-york-city-neighborhoods/greenwich-village-new-york-city.jpg",\n          "geo_coordinates": "40.7306,-73.9967",\n          "ticket_pricing": "N/A",\n          "time_to_travel": "5 minutes walk" \n        }\n      ]\n    },\n    {\n      "name": "The Bowery Hotel",\n      "address": "300 Bowery, New York, NY 10012",\n      "price": "$250 - $400 per night",\n      "image_url": "https://www.theboweryhotel.com/images/gallery/IMG_0034.jpg",\n      "geo_coordinates": "40.7202,-73.9908",\n      "rating": 4.0,\n      "description": "A stylish hotel in the Lower East Side with a rooftop bar and chic restaurant.",\n      "places_nearby": [\n        {\n          "name": "Chinatown",\n          "details": "A bustling neighborhood with traditional Chinese restaurants and shops.",\n          "image_url": "https://www.nycgo.com/images/media/cms/img/destination-guides/new-york-city-neighborhoods/chinatown-new-york-city.jpg",\n          "geo_coordinates": "40.7167,-73.9966",\n          "ticket_pricing": "N/A",\n          "time_to_travel": "10 minutes walk"\n        },\n        {\n          "name": "Little Italy",\n          "details": "A charming neighborhood with Italian restaurants and bakeries.",\n          "image_url": "https://www.nycgo.com/images/media/cms/img/destination-guides/new-york-city-neighborhoods/little-italy-new-york-city.jpg",\n          "geo_coordinates": "40.7194,-73.9975",\n          "ticket_pricing": "N/A",\n          "time_to_travel": "15 minutes walk" \n        }\n      ]\n    },\n    {\n      "name": "The Time New York",\n      "address": "224 W 49th St, New York, NY 10019",\n      "price": "$300 - $500 per night",\n      "image_url": "https://www.marriott.com/marriott/hotel-photos/nyctm-the-time-new-york/exterior/exterior-2-view-2.jpg",\n      "geo_coordinates": "40.7604,-73.9832",\n      "rating": 4.2,\n      "description": "A modern hotel near Times Square with a rooftop pool and bar.",\n      "places_nearby": [\n        {\n          "name": "Times Square",\n          "details": "A famous intersection with bright lights, Broadway shows, and bustling crowds.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/5/54/Times_Square_at_Night_%282007%29.jpg/1280px-Times_Square_at_Night_%282007%29.jpg",\n          "geo_coordinates": "40.7580,-73.9855",\n          "ticket_pricing": "N/A",\n          "time_to_travel": "5 minutes walk"\n        },\n        {\n          "name": "Broadway",\n          "details": "The heart of New York theater, offering world-renowned shows and musicals.",\n          "image_url": "https://www.nycgo.com/images/media/cms/img/destination-guides/new-york-city-attractions/broadway-theatre-district-new-york-city.jpg",\n          "geo_coordinates": "40.7580,-73.9855",\n          "ticket_pricing": "Varies by show, $50 - $200+",\n          "time_to_travel": "5 minutes walk" \n        }\n      ]\n    }\n  ],\n  "itinerary": [\n    {\n      "day": "Day 1",\n      "activities": [\n        {\n          "time": "Morning (9:00 AM - 12:00 PM)",\n          "activity": "Visit the Empire State Building",\n          "details": "Enjoy panoramic views of the city from the iconic skyscraper.",\n          "image_url": "https://www.esbnyc.com/sites/default/files/styles/header_image/public/2019-04/ESB_Sunset_New_York_City_Skyline_664x360.jpg?itok=4pE5a39t",\n          "geo_coordinates": "40.7484,-73.9857",\n          "ticket_pricing": "$39 - $42 per person",\n          "time_to_travel": "30 minutes walk from Times Square"\n        },\n        {\n          "time": "Afternoon (12:00 PM - 3:00 PM)",\n          "activity": "Explore Central Park",\n          "details": "Take a stroll, have a picnic, or rent a bike in this vast urban oasis.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Central_Park_at_Sunset%2C_NYC.jpg/1280px-Central_Park_at_Sunset%2C_NYC.jpg",\n          "geo_coordinates": "40.7829,-73.9654",\n          "ticket_pricing": "Free",\n          "time_to_travel": "30 minutes walk from the Empire State Building"\n        },\n        {\n          "time": "Evening (6:00 PM - 8:00 PM)",\n          "activity": "Dine in Little Italy",\n          "details": "Enjoy authentic Italian cuisine in this charming neighborhood.",\n          "image_url": "https://www.nycgo.com/images/media/cms/img/destination-guides/new-york-city-neighborhoods/little-italy-new-york-city.jpg",\n          "geo_coordinates": "40.7194,-73.9975",\n          "ticket_pricing": "Varies by restaurant",\n          "time_to_travel": "30 minutes subway ride from Central Park"\n        },\n        {\n          "time": "Late Night (8:00 PM - 10:00 PM)",\n          "activity": "Attend a Broadway show",\n          "details": "Catch a world-class musical or play in the heart of New York theater.",\n          "image_url": "https://www.nycgo.com/images/media/cms/img/destination-guides/new-york-city-attractions/broadway-theatre-district-new-york-city.jpg",\n          "geo_coordinates": "40.7580,-73.9855",\n          "ticket_pricing": "Varies by show, $50 - $200+",\n          "time_to_travel": "15 minutes walk from Little Italy"\n        }\n      ]\n    },\n    {\n      "day": "Day 2",\n      "activities": [\n        {\n          "time": "Morning (10:00 AM - 12:00 PM)",\n          "activity": "Visit the Metropolitan Museum of Art",\n          "details": "Explore one of the world\'s finest art museums, housing a vast collection.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/0/01/The_Metropolitan_Museum_of_Art%2C_New_York_City_1422390.jpg/1280px-The_Metropolitan_Museum_of_Art%2C_New_York_City_1422390.jpg",\n          "geo_coordinates": "40.7794,-73.9632",\n          "ticket_pricing": "Suggested donation $25 per person",\n          "time_to_travel": "20 minutes walk from Central Park"\n        },\n        {\n          "time": "Afternoon (12:00 PM - 3:00 PM)",\n          "activity": "Walk across the Brooklyn Bridge",\n          "details": "Enjoy stunning views of the city skyline from this iconic bridge.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Brooklyn_Bridge_from_Manhattan_Bridge_2018.jpg/1280px-Brooklyn_Bridge_from_Manhattan_Bridge_2018.jpg",\n          "geo_coordinates": "40.7027,-74.0059",\n          "ticket_pricing": "Free",\n          "time_to_travel": "30 minutes subway ride from the Metropolitan Museum of Art"\n        },\n        {\n          "time": "Evening (6:00 PM - 8:00 PM)",\n          "activity": "Dinner in Brooklyn Heights",\n          "details": "Enjoy a waterfront dinner with picturesque views of the Manhattan skyline.",\n          "image_url": "https://www.nycgo.com/images/media/cms/img/destination-guides/new-york-city-neighborhoods/brooklyn-heights-new-york-city.jpg",\n          "geo_coordinates": "40.7013,-73.9966",\n          "ticket_pricing": "Varies by restaurant",\n          "time_to_travel": "15 minutes walk from the Brooklyn Bridge"\n        },\n        {\n          "time": "Late Night (8:00 PM - 10:00 PM)",\n          "activity": "Enjoy jazz music in Greenwich Village",\n          "details": "Experience the vibrant nightlife scene with live jazz performances.",\n          "image_url": "https://www.nycgo.com/images/media/cms/img/destination-guides/new-york-city-neighborhoods/greenwich-village-new-york-city.jpg",\n          "geo_coordinates": "40.7306,-73.9967",\n          "ticket_pricing": "Varies by venue, $10 - $20+",\n          "time_to_travel": "30 minutes subway ride from Brooklyn Heights"\n        }\n      ]\n    },\n    {\n      "day": "Day 3",\n      "activities": [\n        {\n          "time": "Morning (10:00 AM - 12:00 PM)",\n          "activity": "Visit the Statue of Liberty and Ellis Island",\n          "details": "Take a ferry to the iconic Statue of Liberty and explore Ellis Island\'s immigration history.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/dc/Statue_of_Liberty_and_Ellis_Island_2009.jpg/1280px-Statue_of_Liberty_and_Ellis_Island_2009.jpg",\n          "geo_coordinates": "40.6892,-74.0445",\n          "ticket_pricing": "$24.50 per person (ferry and access to both islands)",\n          "time_to_travel": "45 minutes ferry ride from Battery Park in Lower Manhattan"\n        },\n        {\n          "time": "Afternoon (1:00 PM - 4:00 PM)",\n          "activity": "Shopping and lunch in SoHo",\n          "details": "Browse designer boutiques and enjoy a trendy lunch in this fashionable neighborhood.",\n          "image_url": "https://www.nycgo.com/images/media/cms/img/destination-guides/new-york-city-neighborhoods/soho-new-york-city.jpg",\n          "geo_coordinates": "40.7189,-74.0059",\n          "ticket_pricing": "Varies by shop and restaurant",\n          "time_to_travel": "30 minutes subway ride from Battery Park"\n        },\n        {\n          "time": "Evening (6:00 PM - 8:00 PM)",\n          "activity": "Sunset cruise on the Hudson River",\n          "details": "Enjoy romantic views of the city skyline as the sun sets over the river.",\n          "image_url": "https://www.nycgo.com/images/media/cms/img/destination-guides/new-york-city-attractions/circle-line-sightseeing-cruises-new-york-city.jpg",\n          "geo_coordinates": "40.7128,-74.0060",\n          "ticket_pricing": "Varies by cruise, $40 - $100+",\n          "time_to_travel": "15 minutes walk from SoHo to Battery Park for the cruise"\n        },\n        {\n          "time": "Late Night (8:00 PM - 10:00 PM)",\n          "activity": "Dinner with a view at a rooftop bar",\n          "details": "Enjoy a final delicious meal with stunning views of the city lights.",\n          "image_url": "https://www.timeout.com/newyork/blog/best-rooftop-bars-new-york-city",\n          "geo_coordinates": "Varies by bar",\n          "ticket_pricing": "Varies by bar, $20 - $50+",\n          "time_to_travel": "30 minutes subway ride from Battery Park"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Notes:**\n\n* This itinerary provides a general framework for a 3-day trip. Feel free to adjust the activities based on your interests and preferences.\n* The flight prices and hotel prices are estimates and may vary depending on the time of year, demand, and specific booking.\n* The "time to travel" estimates are based on walking or subway travel.\n* You can use the provided links to explore specific hotels and places to visit in more detail.\n* You can also use online travel planning tools like Google Maps, Tripadvisor, or Viator to create a personalized itinerary based on your interests and budget.\n',
        },
      ],
    },
  ],
});

//   const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
//   console.log(result.response.text());
